# æ™ºèƒ½è´¦å•ç®¡ç†ç³»ç»Ÿ (Smart Bill Manager)

ä¸€ä¸ªç°ä»£åŒ–çš„ä¸ªäººè´¦å•ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒæ”¯ä»˜è®°å½•ç®¡ç†ã€å‘ç¥¨è‡ªåŠ¨è§£æå’Œé‚®ç®±å®æ—¶ç›‘æ§ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ“Š ä»ªè¡¨ç›˜
- æœ¬æœˆæ”¯å‡ºæ€»è§ˆ
- æ¯æ—¥æ”¯å‡ºè¶‹åŠ¿å›¾
- æ”¯å‡ºåˆ†ç±»é¥¼å›¾
- é‚®ç®±ç›‘æ§çŠ¶æ€
- æœ€è¿‘é‚®ä»¶è®°å½•

### ğŸ’° æ”¯ä»˜è®°å½•ç®¡ç†
- æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤æ”¯ä»˜è®°å½•
- æŒ‰æ—¥æœŸã€åˆ†ç±»ç­›é€‰
- æ”¯å‡ºç»Ÿè®¡åˆ†æ
- æ”¯æŒå¤šç§æ”¯ä»˜æ–¹å¼åˆ†ç±»

### ğŸ“„ å‘ç¥¨ç®¡ç†
- PDFå‘ç¥¨ä¸Šä¼ ï¼ˆæ”¯æŒæ‰¹é‡ï¼‰
- è‡ªåŠ¨è§£æå‘ç¥¨ä¿¡æ¯ï¼ˆå‘ç¥¨å·ç ã€é‡‘é¢ã€é”€å”®æ–¹ç­‰ï¼‰
- å‘ç¥¨é¢„è§ˆå’Œä¸‹è½½
- æ¥æºè¿½è¸ªï¼ˆæ‰‹åŠ¨ä¸Šä¼ /é‚®ä»¶ä¸‹è½½ï¼‰

### ğŸ“¬ é‚®ç®±ç›‘æ§
- **æ”¯æŒQQé‚®ç®±** âœ…
- æ”¯æŒ163ã€126ã€Gmailã€Outlookç­‰ä¸»æµé‚®ç®±
- å®æ—¶ç›‘æ§æ–°é‚®ä»¶
- è‡ªåŠ¨ä¸‹è½½PDFé™„ä»¶
- æ‰‹åŠ¨æ£€æŸ¥æ–°é‚®ä»¶

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- Node.js + Express + TypeScript
- SQLite (better-sqlite3)
- node-imap (é‚®ç®±IMAPåè®®)
- pdf-parse (PDFè§£æ)
- multer (æ–‡ä»¶ä¸Šä¼ )

### å‰ç«¯
- React 18 + TypeScript
- Vite (æ„å»ºå·¥å…·)
- Ant Design 5.x (UIç»„ä»¶åº“)
- Recharts (å›¾è¡¨)
- Axios (HTTPå®¢æˆ·ç«¯)

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18
- npm >= 8

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**
```bash
git clone https://github.com/tuoro/Smart-bill-manager.git
cd Smart-bill-manager
```

2. **å®‰è£…åç«¯ä¾èµ–**
```bash
cd backend
npm install
```

3. **å®‰è£…å‰ç«¯ä¾èµ–**
```bash
cd ../frontend
npm install
```

4. **å¯åŠ¨åç«¯æœåŠ¡**
```bash
cd ../backend
npm run dev
```

5. **å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨**
```bash
cd ../frontend
npm run dev
```

6. **è®¿é—®åº”ç”¨**
æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:5173

## ğŸ“§ QQé‚®ç®±é…ç½®è¯´æ˜

1. ç™»å½•QQé‚®ç®±ç½‘é¡µç‰ˆ
2. è¿›å…¥ã€Œè®¾ç½®ã€â†’ã€Œè´¦æˆ·ã€
3. æ‰¾åˆ°ã€ŒIMAP/SMTPæœåŠ¡ã€å¹¶å¼€å¯
4. ç‚¹å‡»ã€Œç”Ÿæˆæˆæƒç ã€
5. åœ¨ç³»ç»Ÿä¸­æ·»åŠ é‚®ç®±é…ç½®ï¼š
   - é‚®ç®±åœ°å€ï¼šä½ çš„QQé‚®ç®±
   - IMAPæœåŠ¡å™¨ï¼šimap.qq.com
   - ç«¯å£ï¼š993
   - å¯†ç ï¼š**ä½¿ç”¨æˆæƒç ï¼Œä¸æ˜¯QQå¯†ç **

## ğŸ“ é¡¹ç›®ç»“æ„

```
Smart-bill-manager/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts        # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routes/         # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ uploads/            # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
â”‚   â””â”€â”€ data/               # SQLiteæ•°æ®åº“
â”œâ”€â”€ frontend/               # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx        # ä¸»åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/      # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ types/         # TypeScriptç±»å‹
â”‚   â””â”€â”€ public/            # é™æ€èµ„æº
â””â”€â”€ README.md
```

## ğŸ”‘ API æ¥å£

### æ”¯ä»˜è®°å½•
- `GET /api/payments` - è·å–æ”¯ä»˜è®°å½•åˆ—è¡¨
- `GET /api/payments/stats` - è·å–ç»Ÿè®¡æ•°æ®
- `POST /api/payments` - åˆ›å»ºæ”¯ä»˜è®°å½•
- `PUT /api/payments/:id` - æ›´æ–°æ”¯ä»˜è®°å½•
- `DELETE /api/payments/:id` - åˆ é™¤æ”¯ä»˜è®°å½•

### å‘ç¥¨ç®¡ç†
- `GET /api/invoices` - è·å–å‘ç¥¨åˆ—è¡¨
- `POST /api/invoices/upload` - ä¸Šä¼ å‘ç¥¨
- `POST /api/invoices/upload-multiple` - æ‰¹é‡ä¸Šä¼ 
- `DELETE /api/invoices/:id` - åˆ é™¤å‘ç¥¨

### é‚®ç®±é…ç½®
- `GET /api/email/configs` - è·å–é‚®ç®±é…ç½®
- `POST /api/email/configs` - æ·»åŠ é‚®ç®±é…ç½®
- `POST /api/email/test` - æµ‹è¯•è¿æ¥
- `POST /api/email/monitor/start/:id` - å¯åŠ¨ç›‘æ§
- `POST /api/email/monitor/stop/:id` - åœæ­¢ç›‘æ§
- `POST /api/email/check/:id` - æ‰‹åŠ¨æ£€æŸ¥é‚®ä»¶

## ğŸ“¸ ç•Œé¢é¢„è§ˆ

ç³»ç»Ÿæä¾›ç¾è§‚çš„å¯è§†åŒ–ç•Œé¢ï¼ŒåŒ…æ‹¬ï¼š

1. **ä»ªè¡¨ç›˜** - æ•°æ®æ¦‚è§ˆï¼Œæ”¯å‡ºè¶‹åŠ¿å›¾è¡¨
2. **æ”¯ä»˜è®°å½•** - è¡¨æ ¼å±•ç¤ºï¼Œæ”¯æŒç­›é€‰å’Œç»Ÿè®¡
3. **å‘ç¥¨ç®¡ç†** - æ‹–æ‹½ä¸Šä¼ ï¼Œè‡ªåŠ¨è§£æ
4. **é‚®ç®±ç›‘æ§** - é…ç½®ç®¡ç†ï¼Œå®æ—¶çŠ¶æ€

## ğŸ“ License

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶